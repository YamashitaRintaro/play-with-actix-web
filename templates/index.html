{% extends "base.html" %} {% block title %}Twitter Clone{% endblock %} {% block
body_class %}index-page{% endblock %} {% block content %}
<h1>ğŸ¦ Twitter Clone</h1>

{% if error %}
<div class="error">{{ error }}</div>
{% endif %}

<div class="tweet-form">
  <h2>æ–°ã—ã„ãƒ„ã‚¤ãƒ¼ãƒˆ</h2>
  <form action="/tweets" method="POST">
    <textarea
      name="content"
      placeholder="ä»Šä½•ã—ã¦ã‚‹ï¼Ÿ"
      maxlength="280"
      required
    ></textarea>
    <button type="submit">ãƒ„ã‚¤ãƒ¼ãƒˆ</button>
  </form>
</div>

<div class="timeline">
  <h2>ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</h2>
  {% if tweets %} {% for tweet in tweets %}
  <div class="tweet">
    <div class="tweet-header">
      <div class="tweet-content">{{ tweet.content }}</div>
      {% if current_user_id and tweet.user_id == current_user_id %}
      <form
        action="/tweets/{{ tweet.id }}/delete"
        method="POST"
        style="display: inline;"
        onsubmit="return confirm('ã“ã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');"
      >
        <button type="submit" class="delete-btn" title="å‰Šé™¤">ğŸ—‘ï¸</button>
      </form>
      {% endif %}
    </div>
    <div class="tweet-meta">
      {{ tweet.created_at | date(format="%Y-%m-%d %H:%M") }}
    </div>
  </div>
  {% endfor %} {% else %}
  <p>ã¾ã ãƒ„ã‚¤ãƒ¼ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚æœ€åˆã®ãƒ„ã‚¤ãƒ¼ãƒˆã‚’æŠ•ç¨¿ã—ã¾ã—ã‚‡ã†ï¼</p>
  {% endif %}
</div>
{% endblock %}
